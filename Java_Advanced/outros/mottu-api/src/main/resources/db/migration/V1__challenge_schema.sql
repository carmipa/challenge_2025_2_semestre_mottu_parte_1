--------------------------------------------------------
--  V1__challenge_schema.sql  (Oracle)
--  Correções:
--   - NOT NULL definidos nos CREATE (evita ORA-01442 em IDENTITY)
--   - Remoção de ALTER ... MODIFY redundantes/duplicados
--   - Constraints consolidadas em ordem: Tabelas -> Índices -> Constraints
--   - Mantidos nomes/tabelas originais
--------------------------------------------------------

--------------------------------------------------------
--  Tabelas
--------------------------------------------------------

CREATE TABLE "__EFMigrationsHistory"
(
    "MigrationId"    NVARCHAR2(150) NOT NULL,
    "ProductVersion" NVARCHAR2(32)  NOT NULL
);

CREATE TABLE "TB_BOX"
(
    "ID_BOX"       NUMBER GENERATED BY DEFAULT AS IDENTITY,
    "NOME"         VARCHAR2(50)     NOT NULL,
    "STATUS"       VARCHAR2(1 CHAR) NOT NULL,
    "DATA_ENTRADA" DATE             NOT NULL,
    "DATA_SAIDA"   DATE             NOT NULL,
    "OBSERVACAO"   VARCHAR2(100)
);

CREATE TABLE "TB_CLIENTE"
(
    "ID_CLIENTE"                  NUMBER GENERATED BY DEFAULT AS IDENTITY,
    "DATA_CADASTRO"              DATE             DEFAULT SYSDATE NOT NULL,
    "SEXO"                       VARCHAR2(2 CHAR) NOT NULL,
    "NOME"                       VARCHAR2(100)    NOT NULL,
    "SOBRENOME"                  VARCHAR2(100)    NOT NULL,
    "DATA_NASCIMENTO"            DATE             NOT NULL,
    "CPF"                        VARCHAR2(11 CHAR) NOT NULL,
    "PROFISSAO"                  VARCHAR2(50)     NOT NULL,
    "ESTADO_CIVIL"               VARCHAR2(50)     NOT NULL,
    "TB_ENDERECO_ID_ENDERECO"    NUMBER           NOT NULL,
    "TB_CONTATO_ID_CONTATO"      NUMBER           NOT NULL
);

CREATE TABLE "TB_CLIENTEVEICULO"
(
    "TB_CLIENTE_ID_CLIENTE"                NUMBER NOT NULL,
    "TB_CLIENTE_TB_ENDERECO_ID_ENDERECO"   NUMBER NOT NULL,
    "TB_CLIENTE_TB_CONTATO_ID_CONTATO"     NUMBER NOT NULL,
    "TB_VEICULO_ID_VEICULO"                NUMBER NOT NULL
);

CREATE TABLE "TB_CONTATO"
(
    "ID_CONTATO"  NUMBER GENERATED BY DEFAULT AS IDENTITY,
    "EMAIL"       VARCHAR2(100) NOT NULL,
    "DDD"         NUMBER(4,0)   NOT NULL,
    "DDI"         NUMBER(4,0)   NOT NULL,
    "TELEFONE1"   VARCHAR2(20)  NOT NULL,
    "TELEFONE2"   VARCHAR2(20),
    "TELEFONE3"   VARCHAR2(20),
    "CELULAR"     VARCHAR2(20)  NOT NULL,
    "OUTRO"       VARCHAR2(100),
    "OBSERVACAO"  VARCHAR2(200)
);

CREATE TABLE "TB_CONTATOPATIO"
(
    "TB_PATIO_ID_PATIO"   NUMBER NOT NULL,
    "TB_CONTATO_ID_CONTATO" NUMBER NOT NULL
);

CREATE TABLE "TB_ENDERECIOPATIO"
(
    "TB_ENDERECO_ID_ENDERECO" NUMBER NOT NULL,
    "TB_PATIO_ID_PATIO"       NUMBER NOT NULL
);

CREATE TABLE "TB_ENDERECO"
(
    "ID_ENDERECO" NUMBER GENERATED BY DEFAULT AS IDENTITY,
    "CEP"         VARCHAR2(9 CHAR) NOT NULL,
    "NUMERO"      NUMBER(7,0)      NOT NULL,
    "LOGRADOURO"  VARCHAR2(50)     NOT NULL,
    "BAIRRO"      VARCHAR2(50)     NOT NULL,
    "CIDADE"      VARCHAR2(50)     NOT NULL,
    "ESTADO"      VARCHAR2(2 CHAR) NOT NULL,
    "PAIS"        VARCHAR2(50)     NOT NULL,
    "COMPLEMENTO" VARCHAR2(60),
    "OBSERVACAO"  VARCHAR2(200)
);

CREATE TABLE "TB_PATIO"
(
    "ID_PATIO"     NUMBER GENERATED BY DEFAULT AS IDENTITY,
    "NOME_PATIO"   VARCHAR2(50) NOT NULL,
    "DATA_ENTRADA" DATE         NOT NULL,
    "DATA_SAIDA"   DATE         NOT NULL,
    "OBSERVACAO"   VARCHAR2(100)
);

CREATE TABLE "TB_PATIOBOX"
(
    "TB_PATIO_ID_PATIO" NUMBER NOT NULL,
    "TB_BOX_ID_BOX"     NUMBER NOT NULL
);

-- TB_RASTREAMENTO (NOT NULL no CREATE; NUNCA modificar NOT NULL da identity)
CREATE TABLE "TB_RASTREAMENTO"
(
    "ID_RASTREAMENTO"   NUMBER GENERATED BY DEFAULT AS IDENTITY,
    "IPS_X"             NUMBER(7,3)   NOT NULL,
    "IPS_Y"             NUMBER(7,3)   NOT NULL,
    "IPS_Z"             NUMBER(7,3)   NOT NULL,
    "GPRS_LATITUDE"     NUMBER(11,6)  NOT NULL,
    "GPRS_LONGITUDE"    NUMBER(11,6)  NOT NULL,
    "GPRS_ALTITUDE"     NUMBER(7,2)   NOT NULL,
    "DATA_HORA_REGISTRO" TIMESTAMP    DEFAULT CURRENT_TIMESTAMP NOT NULL
);

COMMENT ON COLUMN "TB_RASTREAMENTO"."IPS_X"              IS 'Coordenada X do posicionamento interno (IPS).';
COMMENT ON COLUMN "TB_RASTREAMENTO"."IPS_Y"              IS 'Coordenada Y do posicionamento interno (IPS).';
COMMENT ON COLUMN "TB_RASTREAMENTO"."IPS_Z"              IS 'Coordenada Z do posicionamento interno (IPS).';
COMMENT ON COLUMN "TB_RASTREAMENTO"."GPRS_LATITUDE"      IS 'Latitude do posicionamento GPRS (ex: -90.000000 a +90.000000).';
COMMENT ON COLUMN "TB_RASTREAMENTO"."GPRS_LONGITUDE"     IS 'Longitude do posicionamento GPRS (ex: -180.000000 a +180.000000).';
COMMENT ON COLUMN "TB_RASTREAMENTO"."GPRS_ALTITUDE"      IS 'Altitude do posicionamento GPRS (ex: 99999.99m).';
COMMENT ON COLUMN "TB_RASTREAMENTO"."DATA_HORA_REGISTRO" IS 'Data e hora em que o registro de rastreamento foi criado.';

CREATE TABLE "TB_VEICULO"
(
    "ID_VEICULO"  NUMBER GENERATED BY DEFAULT AS IDENTITY,
    "PLACA"       VARCHAR2(10)     NOT NULL,
    "RENAVAM"     VARCHAR2(11 CHAR) NOT NULL,
    "CHASSI"      VARCHAR2(17 CHAR) NOT NULL,
    "FABRICANTE"  VARCHAR2(50)     NOT NULL,
    "MODELO"      VARCHAR2(60)     NOT NULL,
    "MOTOR"       VARCHAR2(30)     NOT NULL,
    "ANO"         NUMBER           NOT NULL,
    "COMBUSTIVEL" VARCHAR2(20)     NOT NULL
);

CREATE TABLE "TB_VEICULOBOX"
(
    "TB_VEICULO_ID_VEICULO" NUMBER NOT NULL,
    "TB_BOX_ID_BOX"         NUMBER NOT NULL
);

CREATE TABLE "TB_VEICULOPATIO"
(
    "TB_VEICULO_ID_VEICULO" NUMBER NOT NULL,
    "TB_PATIO_ID_PATIO"     NUMBER NOT NULL
);

CREATE TABLE "TB_VEICULORASTREAMENTO"
(
    "TB_VEICULO_ID_VEICULO"        NUMBER NOT NULL,
    "TB_RASTREAMENTO_ID_RASTREAMENTO" NUMBER NOT NULL
);

CREATE TABLE "TB_VEICULOZONA"
(
    "TB_VEICULO_ID_VEICULO" NUMBER NOT NULL,
    "TB_ZONA_ID_ZONA"       NUMBER NOT NULL
);

CREATE TABLE "TB_ZONA"
(
    "ID_ZONA"      NUMBER GENERATED BY DEFAULT AS IDENTITY,
    "NOME"         VARCHAR2(50) NOT NULL,
    "DATA_ENTRADA" DATE         NOT NULL,
    "DATA_SAIDA"   DATE         NOT NULL,
    "OBSERVACAO"   VARCHAR2(100)
);

CREATE TABLE "TB_ZONABOX"
(
    "TB_ZONA_ID_ZONA" NUMBER NOT NULL,
    "TB_BOX_ID_BOX"   NUMBER NOT NULL
);

CREATE TABLE "TB_ZONAPATIO"
(
    "TB_PATIO_ID_PATIO" NUMBER NOT NULL,
    "TB_ZONA_ID_ZONA"   NUMBER NOT NULL
);

--------------------------------------------------------
--  Índices (mantidos conforme original)
--------------------------------------------------------

CREATE UNIQUE INDEX "CLIENTEVEICULO_PK"        ON "TB_CLIENTEVEICULO" ("TB_CLIENTE_ID_CLIENTE", "TB_CLIENTE_TB_ENDERECO_ID_ENDERECO", "TB_CLIENTE_TB_CONTATO_ID_CONTATO", "TB_VEICULO_ID_VEICULO");
CREATE UNIQUE INDEX "TB_VEICULO_PK"            ON "TB_VEICULO" ("ID_VEICULO");
CREATE UNIQUE INDEX "UK_VEICULO_RENAVAM"       ON "TB_VEICULO" ("RENAVAM");
CREATE UNIQUE INDEX "UK_VEICULO_PLACA"         ON "TB_VEICULO" ("PLACA");
CREATE UNIQUE INDEX "TB_ENDERECO_PK"           ON "TB_ENDERECO" ("ID_ENDERECO");
CREATE UNIQUE INDEX "VEICULOPATIO_PK"          ON "TB_VEICULOPATIO" ("TB_VEICULO_ID_VEICULO", "TB_PATIO_ID_PATIO");
CREATE UNIQUE INDEX "VEICULOBOX_PK"            ON "TB_VEICULOBOX" ("TB_VEICULO_ID_VEICULO", "TB_BOX_ID_BOX");
CREATE UNIQUE INDEX "UK_VEICULO_CHASSI"        ON "TB_VEICULO" ("CHASSI");
CREATE UNIQUE INDEX "UK_CLIENTE_CPF"           ON "TB_CLIENTE" ("CPF");
CREATE UNIQUE INDEX "TB_RASTREAMENTO_PK"       ON "TB_RASTREAMENTO" ("ID_RASTREAMENTO");
CREATE UNIQUE INDEX "PK___EFMigrationsHistory" ON "__EFMigrationsHistory" ("MigrationId");
CREATE UNIQUE INDEX "TB_BOX_PK"                ON "TB_BOX" ("ID_BOX");
CREATE UNIQUE INDEX "ENDERECIOPATIO_PK"        ON "TB_ENDERECIOPATIO" ("TB_ENDERECO_ID_ENDERECO", "TB_PATIO_ID_PATIO");
CREATE UNIQUE INDEX "PATIOBOX_PK"              ON "TB_PATIOBOX" ("TB_PATIO_ID_PATIO", "TB_BOX_ID_BOX");
CREATE UNIQUE INDEX "TB_CLIENTE_PK"            ON "TB_CLIENTE" ("ID_CLIENTE");
CREATE UNIQUE INDEX "ZONABOX_PK"               ON "TB_ZONABOX" ("TB_ZONA_ID_ZONA", "TB_BOX_ID_BOX");
CREATE UNIQUE INDEX "TB_ZONA_PK"               ON "TB_ZONA" ("ID_ZONA");
CREATE UNIQUE INDEX "TB_PATIO_PK"              ON "TB_PATIO" ("ID_PATIO");
CREATE UNIQUE INDEX "TB_CONTATO_PK"            ON "TB_CONTATO" ("ID_CONTATO");
CREATE UNIQUE INDEX "ZONAPATIO_PK"             ON "TB_ZONAPATIO" ("TB_PATIO_ID_PATIO", "TB_ZONA_ID_ZONA");
CREATE UNIQUE INDEX "CONTATOPATIO_PK"          ON "TB_CONTATOPATIO" ("TB_PATIO_ID_PATIO", "TB_CONTATO_ID_CONTATO");
CREATE UNIQUE INDEX "VEICULOZONA_PK"           ON "TB_VEICULOZONA" ("TB_VEICULO_ID_VEICULO", "TB_ZONA_ID_ZONA");
CREATE UNIQUE INDEX "VEICULORASTREAMENTO_PK"   ON "TB_VEICULORASTREAMENTO" ("TB_VEICULO_ID_VEICULO", "TB_RASTREAMENTO_ID_RASTREAMENTO");

--------------------------------------------------------
--  Constraints (PK / CHECK / UNIQUE / FK)
--------------------------------------------------------

-- __EFMigrationsHistory
ALTER TABLE "__EFMigrationsHistory"
    ADD CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId");

-- TB_BOX
ALTER TABLE "TB_BOX"
    ADD CONSTRAINT "TB_BOX_PK" PRIMARY KEY ("ID_BOX")
    USING INDEX "TB_BOX_PK";

-- TB_CLIENTE
ALTER TABLE "TB_CLIENTE"
    ADD CONSTRAINT "TB_CLIENTE_PK" PRIMARY KEY ("ID_CLIENTE")
    USING INDEX "TB_CLIENTE_PK";

-- checks (ajuste de valores conforme seu domínio)
ALTER TABLE "TB_CLIENTE"
    ADD CONSTRAINT "CK_CLIENTE_DATA_NASC_MIN" CHECK (DATA_NASCIMENTO >= DATE '1900-01-01');
ALTER TABLE "TB_CLIENTE"
    ADD CONSTRAINT "CK_CLIENTE_SEXO" CHECK (SEXO IN ('M','H')); -- mantenho conforme original
ALTER TABLE "TB_CLIENTE"
    ADD CONSTRAINT "CK_CLIENTE_ESTADO_CIVIL"
        CHECK (ESTADO_CIVIL IN ('Solteiro','Casado','Divorciado','Viuvo','Separado','Uniao Estavel'));

ALTER TABLE "TB_CLIENTE"
    ADD CONSTRAINT "UK_CLIENTE_CPF" UNIQUE ("CPF")
    USING INDEX "UK_CLIENTE_CPF";

-- TB_CONTATO
ALTER TABLE "TB_CONTATO"
    ADD CONSTRAINT "TB_CONTATO_PK" PRIMARY KEY ("ID_CONTATO")
    USING INDEX "TB_CONTATO_PK";

ALTER TABLE "TB_CONTATO"
    ADD CONSTRAINT "CK_CONTATO_DDD_RANGE" CHECK (DDD BETWEEN 11 AND 99);

-- TB_ENDERECO
ALTER TABLE "TB_ENDERECO"
    ADD CONSTRAINT "TB_ENDERECO_PK" PRIMARY KEY ("ID_ENDERECO")
    USING INDEX "TB_ENDERECO_PK";

-- TB_PATIO
ALTER TABLE "TB_PATIO"
    ADD CONSTRAINT "TB_PATIO_PK" PRIMARY KEY ("ID_PATIO")
    USING INDEX "TB_PATIO_PK";

-- TB_RASTREAMENTO (NÃO tocar na IDENTITY com NOT NULL)
ALTER TABLE "TB_RASTREAMENTO"
    ADD CONSTRAINT "TB_RASTREAMENTO_PK" PRIMARY KEY ("ID_RASTREAMENTO")
    USING INDEX "TB_RASTREAMENTO_PK";

-- TB_VEICULO (+ uniques)
ALTER TABLE "TB_VEICULO"
    ADD CONSTRAINT "TB_VEICULO_PK" PRIMARY KEY ("ID_VEICULO")
    USING INDEX "TB_VEICULO_PK";

ALTER TABLE "TB_VEICULO"
    ADD CONSTRAINT "UK_VEICULO_CHASSI" UNIQUE ("CHASSI")
    USING INDEX "UK_VEICULO_CHASSI";
ALTER TABLE "TB_VEICULO"
    ADD CONSTRAINT "UK_VEICULO_RENAVAM" UNIQUE ("RENAVAM")
    USING INDEX "UK_VEICULO_RENAVAM";
ALTER TABLE "TB_VEICULO"
    ADD CONSTRAINT "UK_VEICULO_PLACA" UNIQUE ("PLACA")
    USING INDEX "UK_VEICULO_PLACA";

-- tabelas de junção (PK compostas)
ALTER TABLE "TB_CLIENTEVEICULO"
    ADD CONSTRAINT "CLIENTEVEICULO_PK"
        PRIMARY KEY ("TB_CLIENTE_ID_CLIENTE","TB_CLIENTE_TB_ENDERECO_ID_ENDERECO","TB_CLIENTE_TB_CONTATO_ID_CONTATO","TB_VEICULO_ID_VEICULO")
    USING INDEX "CLIENTEVEICULO_PK";

ALTER TABLE "TB_VEICULOPATIO"
    ADD CONSTRAINT "VEICULOPATIO_PK"
        PRIMARY KEY ("TB_VEICULO_ID_VEICULO","TB_PATIO_ID_PATIO")
    USING INDEX "VEICULOPATIO_PK";

ALTER TABLE "TB_VEICULOBOX"
    ADD CONSTRAINT "VEICULOBOX_PK"
        PRIMARY KEY ("TB_VEICULO_ID_VEICULO","TB_BOX_ID_BOX")
    USING INDEX "VEICULOBOX_PK";

ALTER TABLE "TB_VEICULORASTREAMENTO"
    ADD CONSTRAINT "VEICULORASTREAMENTO_PK"
        PRIMARY KEY ("TB_VEICULO_ID_VEICULO","TB_RASTREAMENTO_ID_RASTREAMENTO")
    USING INDEX "VEICULORASTREAMENTO_PK";

ALTER TABLE "TB_VEICULOZONA"
    ADD CONSTRAINT "VEICULOZONA_PK"
        PRIMARY KEY ("TB_VEICULO_ID_VEICULO","TB_ZONA_ID_ZONA")
    USING INDEX "VEICULOZONA_PK";

ALTER TABLE "TB_ZONA"
    ADD CONSTRAINT "TB_ZONA_PK" PRIMARY KEY ("ID_ZONA")
    USING INDEX "TB_ZONA_PK";

ALTER TABLE "TB_ZONABOX"
    ADD CONSTRAINT "ZONABOX_PK"
        PRIMARY KEY ("TB_ZONA_ID_ZONA","TB_BOX_ID_BOX")
    USING INDEX "ZONABOX_PK";

ALTER TABLE "TB_ZONAPATIO"
    ADD CONSTRAINT "ZONAPATIO_PK"
        PRIMARY KEY ("TB_PATIO_ID_PATIO","TB_ZONA_ID_ZONA")
    USING INDEX "ZONAPATIO_PK";

ALTER TABLE "TB_CONTATOPATIO"
    ADD CONSTRAINT "CONTATOPATIO_PK"
        PRIMARY KEY ("TB_PATIO_ID_PATIO","TB_CONTATO_ID_CONTATO")
    USING INDEX "CONTATOPATIO_PK";

ALTER TABLE "TB_ENDERECIOPATIO"
    ADD CONSTRAINT "ENDERECIOPATIO_PK"
        PRIMARY KEY ("TB_ENDERECO_ID_ENDERECO","TB_PATIO_ID_PATIO")
    USING INDEX "ENDERECIOPATIO_PK";

--------------------------------------------------------
--  Foreign Keys
--------------------------------------------------------

-- TB_CLIENTE
ALTER TABLE "TB_CLIENTE"
    ADD CONSTRAINT "TB_CLIENTE_TB_CONTATO_FK"
        FOREIGN KEY ("TB_CONTATO_ID_CONTATO")
            REFERENCES "TB_CONTATO" ("ID_CONTATO");

ALTER TABLE "TB_CLIENTE"
    ADD CONSTRAINT "TB_CLIENTE_TB_ENDERECO_FK"
        FOREIGN KEY ("TB_ENDERECO_ID_ENDERECO")
            REFERENCES "TB_ENDERECO" ("ID_ENDERECO");

-- TB_CLIENTEVEICULO
ALTER TABLE "TB_CLIENTEVEICULO"
    ADD CONSTRAINT "CLIENTEVEICULO_CLIENTE_FK"
        FOREIGN KEY ("TB_CLIENTE_ID_CLIENTE")
            REFERENCES "TB_CLIENTE" ("ID_CLIENTE");

ALTER TABLE "TB_CLIENTEVEICULO"
    ADD CONSTRAINT "CLIENTEVEICULO_VEICULO_FK"
        FOREIGN KEY ("TB_VEICULO_ID_VEICULO")
            REFERENCES "TB_VEICULO" ("ID_VEICULO");

-- TB_CONTATOPATIO
ALTER TABLE "TB_CONTATOPATIO"
    ADD CONSTRAINT "CONTATOPATIO_CONTATO_FK"
        FOREIGN KEY ("TB_CONTATO_ID_CONTATO")
            REFERENCES "TB_CONTATO" ("ID_CONTATO");

ALTER TABLE "TB_CONTATOPATIO"
    ADD CONSTRAINT "CONTATOPATIO_PATIO_FK"
        FOREIGN KEY ("TB_PATIO_ID_PATIO")
            REFERENCES "TB_PATIO" ("ID_PATIO");

-- TB_ENDERECIOPATIO
ALTER TABLE "TB_ENDERECIOPATIO"
    ADD CONSTRAINT "ENDERECIOPATIO_ENDERECO_FK"
        FOREIGN KEY ("TB_ENDERECO_ID_ENDERECO")
            REFERENCES "TB_ENDERECO" ("ID_ENDERECO");

ALTER TABLE "TB_ENDERECIOPATIO"
    ADD CONSTRAINT "ENDERECIOPATIO_PATIO_FK"
        FOREIGN KEY ("TB_PATIO_ID_PATIO")
            REFERENCES "TB_PATIO" ("ID_PATIO");

-- TB_PATIOBOX
ALTER TABLE "TB_PATIOBOX"
    ADD CONSTRAINT "PATIOBOX_PATIO_FK"
        FOREIGN KEY ("TB_PATIO_ID_PATIO")
            REFERENCES "TB_PATIO" ("ID_PATIO");

ALTER TABLE "TB_PATIOBOX"
    ADD CONSTRAINT "PATIOBOX_BOX_FK"
        FOREIGN KEY ("TB_BOX_ID_BOX")
            REFERENCES "TB_BOX" ("ID_BOX");

-- TB_VEICULOBOX
ALTER TABLE "TB_VEICULOBOX"
    ADD CONSTRAINT "VEICULOBOX_VEICULO_FK"
        FOREIGN KEY ("TB_VEICULO_ID_VEICULO")
            REFERENCES "TB_VEICULO" ("ID_VEICULO");

ALTER TABLE "TB_VEICULOBOX"
    ADD CONSTRAINT "VEICULOBOX_BOX_FK"
        FOREIGN KEY ("TB_BOX_ID_BOX")
            REFERENCES "TB_BOX" ("ID_BOX");

-- TB_VEICULOPATIO
ALTER TABLE "TB_VEICULOPATIO"
    ADD CONSTRAINT "VEICULOPATIO_VEICULO_FK"
        FOREIGN KEY ("TB_VEICULO_ID_VEICULO")
            REFERENCES "TB_VEICULO" ("ID_VEICULO");

ALTER TABLE "TB_VEICULOPATIO"
    ADD CONSTRAINT "VEICULOPATIO_PATIO_FK"
        FOREIGN KEY ("TB_PATIO_ID_PATIO")
            REFERENCES "TB_PATIO" ("ID_PATIO");

-- TB_VEICULORASTREAMENTO
ALTER TABLE "TB_VEICULORASTREAMENTO"
    ADD CONSTRAINT "VEICULORASTREAMENTO_VEICULO_FK"
        FOREIGN KEY ("TB_VEICULO_ID_VEICULO")
            REFERENCES "TB_VEICULO" ("ID_VEICULO");

ALTER TABLE "TB_VEICULORASTREAMENTO"
    ADD CONSTRAINT "VEICULORASTREAMENTO_RASTREAMENTO_FK"
        FOREIGN KEY ("TB_RASTREAMENTO_ID_RASTREAMENTO")
            REFERENCES "TB_RASTREAMENTO" ("ID_RASTREAMENTO");

-- TB_VEICULOZONA
ALTER TABLE "TB_VEICULOZONA"
    ADD CONSTRAINT "VEICULOZONA_VEICULO_FK"
        FOREIGN KEY ("TB_VEICULO_ID_VEICULO")
            REFERENCES "TB_VEICULO" ("ID_VEICULO");

ALTER TABLE "TB_VEICULOZONA"
    ADD CONSTRAINT "VEICULOZONA_ZONA_FK"
        FOREIGN KEY ("TB_ZONA_ID_ZONA")
            REFERENCES "TB_ZONA" ("ID_ZONA");
